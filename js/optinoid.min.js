function isEmail(i){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(i)}!function(i){if("function"==typeof define&&define.amd)define(i);else if("object"==typeof exports)module.exports=i();else{var t=window.Cookies,e=window.Cookies=i();e.noConflict=function(){return window.Cookies=t,e}}}(function(){function i(){for(var i=0,t={};i<arguments.length;i++){var e=arguments[i];for(var o in e)t[o]=e[o]}return t}function t(e){function o(t,n,s){var a;if(arguments.length>1){if(s=i({path:"/"},o.defaults,s),"number"==typeof s.expires){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*s.expires),s.expires=d}try{a=JSON.stringify(n),/^[\{\[]/.test(a)&&(n=a)}catch(l){}return n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",n,s.expires&&"; expires="+s.expires.toUTCString(),s.path&&"; path="+s.path,s.domain&&"; domain="+s.domain,s.secure?"; secure":""].join("")}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],r=/(%[0-9A-Z]{2})+/g,p=0;p<c.length;p++){var u=c[p].split("="),h=u[0].replace(r,decodeURIComponent),m=u.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{if(m=e&&e(m,h)||m.replace(r,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(l){}if(t===h){a=m;break}t||(a[h]=m)}catch(l){}}return a}return o.get=o.set=o,o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,e){o(t,"",i(e,{expires:-1}))},o.withConverter=t,o}return t()});var j=jQuery.noConflict(),Optinoid={isMobile:!1,el:null,type:"popup",win:null,cookies:[],init:function(){var i=this;this.win=j(window),window.matchMedia("(max-width: 768px)").matches&&(this.isMobile=!0),jQuery.post(optinoid.api_url,{id:optinoid.id,action:"load_optinoid",security:optinoid.nonce,mobile:this.isMobile,inline:!1,is_home:optinoid.is_home},function(t){j("#optinoid-placeholder").replaceWith(t),i.getOptins()})},events:function(){var i=this;j(document).on("click",".close-optin",function(t){i.close(!0),t.preventDefault()}),j(document).on("click",".optinoid-scroll",function(t){i.close(!0),t.preventDefault()}),j("#optinoid-overlay").click(function(t){t.target===this&&(i.close(!0),t.preventDefault())}),j(".optinoid-text").click(function(i){j("form",j(this).parent()).hasClass("active")?j("form",j(this).parent()).removeClass("active"):j("form",j(this).parent()).addClass("active")}),("welcomemat"==this.type||"welcomemat-fb"==this.type)&&(this.win.scroll(function(){j("#optinoid-welcome").hasClass("active")&&i.win.scrollTop()>i.win.height()&&i.close()}),this.win.resize(function(){j("#optinoid-welcome").height(i.win.height())}))},getOptins:function(){var i=this,t=this.isMobile?"mobile":"desktop";j(".optinoid-optin."+t).length&&j(".optinoid-optin."+t).each(function(){i.el=j(this),i.type=j(i.el).data("type");var t=j(i.el).data("id");return-1===j.inArray(t,i.cookies)?(i.formSubmit(),i.events(),i.open(),!1):void 0})},formSubmit:function(){var i=this;j(".optinoid-form").submit(function(t){0!==j("input[type=email]",this).val().length?(j("input[type=email]",this).removeClass("has-error"),j(this).closest(".optinoid-optin").append('<div class="preloader"><div class="circle"></div></div>'),jQuery.post(optinoid.api_url,j(this).serialize(),function(t){t.success&&t.success===!0&&(t.redirect===!0&&(window.location=t.url),i.close(!1))})):j("input[type=email]",this).addClass("has-error"),t.preventDefault()})},open:function(){var i=null,t=this;"popup"==this.type&&(i="#optinoid-overlay"),("welcomemat"==this.type||"welcomemat-fb"==this.type)&&(i="#optinoid-welcome"),"floating-bar"==this.type&&(i="#optinoid-floating-bar"),i&&j(i).delay(j(this.el).data("delay")).queue(function(){j(this).addClass("active").dequeue(),"#optinoid-welcome"==i&&j("body").addClass("optinoid-welcome-padding").css({"padding-top":t.win.height()}),"#optinoid-floating-bar"==i&&j(i).hasClass("optinoid-stick-top")&&j("body").addClass("optinoid-fb-padding").css("padding-top",j("#optinoid-floating-bar").outerHeight())}),j(this.el).delay(j(this.el).data("delay")).queue(function(){j(this).addClass("active").dequeue();var t=j(this).data();""!=t.btnColor&&j(".optinoid-button",this).css("background",t.btnColor),""!=t.btnTextColor&&j(".optinoid-button",this).css("color",t.btnTextColor),""!=t.bgColor&&j(".optinoid-container",this).css("background-color",t.bgColor),""!=t.textColor&&(j(".optinoid-text",this).css("color",t.textColor),j(".optinoid-text",this).find("*").css("color",t.textColor)),"#optinoid-welcome"==i&&(j(i).children(".content-over-split").length?j(i).append('<div class="optinoid-scroll split-screen"><i></i><i></i></div'):j(i).append('<div class="optinoid-scroll"><i></i><i></i></div')),""!=t.arrowColor&&(j(".optinoid-scroll > i",j(i)).css("background",t.arrowColor),j(".optinoid-scroll",j(i)).css("border-color",t.arrowColor))}),jQuery.post(optinoid.api_url,{id:j(this.el).data("id"),action:"view_optinoid",security:optinoid.nonce})},close:function(i){j("#optinoid-welcome, #optinoid-overlay").addClass("closing").delay(500).queue(function(){j(this).removeClass("active closing").dequeue()}),j(this.el).addClass("closing").delay(500).queue(function(){j(this).removeClass("active closing")}),j("#optinoid-floating-bar").length&&(j("#optinoid-floating-bar").addClass("active"),j("body").addClass("optinoid-fb-padding").css("padding-top",j("#optinoid-floating-bar").outerHeight())),j("body").hasClass("optinoid-welcome-padding")&&j("body").removeClass("optinoid-welcome-padding").css("padding-top",0),i&&jQuery.post(optinoid.api_url,{id:j(this.el).data("id"),action:"close_optinoid",security:optinoid.nonce,is_home:optinoid.is_home})}};window.matchMedia||(window.matchMedia=function(){"use strict";var i=window.styleMedia||window.media;if(!i){var t=document.createElement("style"),e=document.getElementsByTagName("script")[0],o=null;t.type="text/css",t.id="matchmediajs-test",e.parentNode.insertBefore(t,e),o="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,i={matchMedium:function(i){var e="@media "+i+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=e:t.textContent=e,"1px"===o.width}}}return function(t){return{matches:i.matchMedium(t||"all"),media:t||"all"}}}()),j(document).ready(function($){Optinoid.init()});